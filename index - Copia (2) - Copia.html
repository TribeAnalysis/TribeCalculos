<!DOCTYPE html>
<html>

<head>
	<style type="text/css">
		.graficos {
			width: 300px;
			height: 300px;
		}
	</style>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="chart.js"></script>
	<meta charset="utf-8">
	<title></title>

</head>

<body>
	<h1>Quantitativa Discreta</h1>
	<div>
		<p>Tabulação</p>
		Nome da variavel <input type="text" name="" id="nomeVar">
		<select name="AmosorPop">
			<option value="amostra" id="cmbAmostra"> AMOSTRA </option>
			<option value="populacao" id="cmbPopulacao"> POPULAÇÃO</option>
		</select>
	</div>

	<div>
		<h1>Entrada de dados </h1>
		<p> <strong>Manual</strong> </p>
		<input type="" name="" id="dados" placeholder="Insira os dados com: ;">
	</div>
	<div>
		<p><strong>Automatica </strong></p>
		<input type="file" />
	</div><br>
	<div>
		<button onclick="calc_Qualitativa()" id="btn">Calcular</button> </div>
	<div>

		<table id="nome_quali_disc">
			<tr><strong>
					<h1></h1>
				</strong></tr>
		</table>
		<table id="table_quali_disc" border="1">


		</table>
	</div>
	<div class="graficos">
		<canvas id="myChart" width="20" height="20"></canvas>
	</div>

	<hr />

	<div>
		<h1>Qualitativa Nominal & Qualitativa Ordinal </h1>

		<div>
			<p>Tabulação</p>
			Nome da variavel <input type="text" name="" id="nomeVar_Nominal">
			<select name="AmosorPop">
				<option value="amostra" id="cmbAmostra"> AMOSTRA </option>
				<option value="populacao" id="cmbPopulacao"> POPULAÇÃO</option>
			</select>
		</div>
		<div>
			<h1>Entrada de dados </h1>
			<p> Manual </p>
			<input type="" name="" id="dados_nominal" placeholder="Insira os dados separados por: ;">
			<select name="qualitativas">
				<option value="descritiva" id="cmbDescritiva"> ORDINAL </option>
				<option value="nominal" id="cmbNominaL"> NOMINAL</option>
			</select>
		</div><br>
		<div>
			<input type="file" id="Nominal" />
		</div><br>
		<div> <button onclick="calc_qualiNominal()" id="btn">Calcular</button> </div>
		<div>
			<table id="nomeVariavel">
				<tr><strong>
						<h1></h1>
					</strong></tr>
			</table>
			<table id="table_Nominal" border="1">
			</table>
		</div>
	</div>
	<div class="graficos">
		<canvas id="myChart2" width="20" height="20"></canvas>
	</div>

	<hr />

	<div>
		<h1>Quantitativa Continua </h1>
		<div>
			<p>Tabulação</p>
			Nome da variavel <input type="text" name="" id="nomeVar_Continua">
			<select name="AmosorPop">
				<option value="amostra" id="cmbAmostra"> AMOSTRA </option>
				<option value="populacao" id="cmbPopulacao"> POPULAÇÃO</option>
			</select>
		</div>
		<h1>Entrada de dados </h1>
		<p> Manual </p>
		<input type="" name="" id="dados_continua" placeholder="Insira os dados separados por: ;">
		<div>
			<p><strong>Automatica </strong></p>
			<input type="file" id="Continua" />
		</div><br>
	</div><br>
	<div> <button onclick="calc_continua()" id="btn">Calcular</button> </div>
	<table id="nome_continua">
		<tr>
			<h1></h1>
		</tr>
	</table>
	<table id="table_continua" border="1">
	</table>
	</div>
	</div>
	<div class="graficos">
		<canvas id="myChart3" width="20" height="20"></canvas>
	</div>
	<hr>


	<script>
		const vetAuto = []
	//const vetAutoNominal = []
		const inputDiscreta = document.querySelector('input[type="file"]')
		inputDiscreta.addEventListener('change', function (e) {
			//console.log(input.files)
			const reader = new FileReader()
			reader.onload = function () {
				const lines = reader.result.split('/n').map(function (line) {
					return line.split(';')
				})
				console.log(lines)
				for (let i = 0; i < lines.length; i++) {
				vetAuto[i] = lines[i]
					
				}
				console.log(vetAuto)

			}

			reader.readAsText(inputDiscreta.files[0])
		}, false)
		

		const vetAutoNominal = []
		const inputNominal = document.querySelector('input[type="file"][id="Nominal"]')
		inputNominal.addEventListener('change', function (e) {
			//console.log(input.files)
			const readerNominal = new FileReader()
			readerNominal.onload = function () {
				const linesNominal = readerNominal.result.split('/n').map(function (line) {
					return line.split(';')
				})
				//console.log(lines)
				for (let i = 0; i < linesNominal.length; i++) {
				vetAutoNominal[i] = linesNominal[i]
					
				}
				console.log(vetAutoNominal)

			}

			readerNominal.readAsText(inputNominal.files[0])
		}, false)

		const vetAutoContinua = []
		const inputContinua = document.querySelector('input[type="file"][id="Continua"]')
		inputContinua.addEventListener('change', function (e) {
			//console.log(input.files)
			const readerContinua = new FileReader()
			readerContinua.onload = function () {
				const linesContinua = readerContinua.result.split('/n').map(function (line) {
					return line.split(';')
				})
				//console.log(lines)
				for (let i = 0; i < linesContinua.length; i++) {
					vetAutoContinua[i] = linesContinua[i]
					
				}
				console.log(vetAutoContinua)

			}

			readerContinua.readAsText(inputContinua.files[0])
		}, false)
		
		//GOD LUCK MY FRIENDS!
		// -------------------------------------- Qualitativa ---------------------------------------------



		function calc_Qualitativa() {
			table_quali_disc.innerHTML = ""
			nome_quali_disc.innerHTML = ''
			document.getElementById("myChart").innerHTML = ""
			//let dados = document.getElementById('dados').value; //puxa os dados da pagina verificar se é nescessario
			if (vetAuto.length === 0) {
				discreta()
			}
			else {
				automaticaDiscreta()
			}
		}

		function ordemCrescente(a, b) {
			return (a - b)	// ordena de forma crescente
		}
		function automaticaDiscreta() {
			//console.log(vetAutoDiscreta)
			table_quali_disc.innerHTML += "<tr> <td>VARIAVEL</td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar').value; //Coloca o nome da variavel
			let vetDiscreta = vetAuto.toString().split(',');
			vetDiscreta.sort(ordemCrescente)
			var quantDados = {}; //obj com informando a quantidade de cada elemento 
			var acum = 0; // acumulador de elementos diferentes
			nome_quali_disc.innerHTML += nomeVar
			for (let i = 0; i < vetDiscreta.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetDiscreta[i]]) {
					quantDados[vetDiscreta[i]] += 1
					acum++
				} else {
					quantDados[vetDiscreta[i]] = 1
					acum++
				}
			}
			var facDiscreta = 0;
			var acumFacDiscreta = 0;
			var facTotPorcDisc = 0;
			var facPorc = 0
			//pega o valor da variavel 
			var indiceDiscreta = [];
			//Pega a porcetagem do valor digitado
			var porcFreqDiscreta = [];
			for (var chave in quantDados) { // pega as variaveis
				facDiscreta += quantDados[chave]
				facPorc = Math.round((quantDados[chave] / acum) * 100)
				facTotPorcDisc = facPorc + acumFacDiscreta
				table_quali_disc.innerHTML += `<td> ${chave /*Inserção de variavel na tabela*/}  <td> ${quantDados[chave]/*Insere a quantidade de repetições da variavel*/} <td>${Math.round((quantDados[chave] / acum) * 100) /*Insere e calcula a porcentagem de vezes que o elemento foi inserido*/} % <td> ${facDiscreta}<td> ${facTotPorcDisc}<br> `
				acumFacDiscreta += facPorc
				//Adiciona o indice ao vetor
				indiceDiscreta.push(chave)
				//adiciona a porcentagem ao vetor
				porcFreqDiscreta.push(Math.round((quantDados[chave] / acum) * 100))

			}
			//console.log(indiceDiscreta)
			//console.log(porcFreqDiscreta)
			var color = []
			for (let i = 0; i < indiceDiscreta.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}

			// console.log(color)
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceDiscreta // Dados que o usuário digitou
			var DADOS = porcFreqDiscreta // FI%
			var COR = color //geração de cores 
			var ctx = document.getElementById('myChart').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});


		}
		console.log('259', vetAuto)
		function discreta() {
			table_quali_disc.innerHTML += "<tr> <td>VARIAVEL</td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar').value; //Coloca o nome da variavel
			//var dados = document.getElementById('dados').value; //puxa os dados da pagina
			let vetDiscreta = vetAuto.toString().split(';'); // separa os valores e insere no vetor
			vetDiscreta.sort(ordemCrescente) // deixa o vetor na ordem crescente/alfabetica
			var quantDados = {}; //obj com informando a quantidade de cada elemento 
			var acum = 0; // acumulador de elementos diferentes
			nome_quali_disc.innerHTML += nomeVar
			for (let i = 0; i < vetDiscreta.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetDiscreta[i]]) {
					quantDados[vetDiscreta[i]] += 1
					acum++
				} else {
					quantDados[vetDiscreta[i]] = 1
					acum++
				}
			}
			var facDiscreta = 0;
			var acumFacDiscreta = 0;
			var facTotPorcDisc = 0;
			var facPorc = 0
			//pega o valor da variavel 
			var indiceDiscreta = [];
			//Pega a porcetagem do valor digitado
			var porcFreqDiscreta = [];
			for (var chave in quantDados) { // pega as variaveis
				facDiscreta += quantDados[chave]
				facPorc = Math.round((quantDados[chave] / acum) * 100)
				facTotPorcDisc = facPorc + acumFacDiscreta
				table_quali_disc.innerHTML += `<td> ${chave /*Inserção de variavel na tabela*/}  <td> ${quantDados[chave]/*Insere a quantidade de repetições da variavel*/} <td>${Math.round((quantDados[chave] / acum) * 100) /*Insere e calcula a porcentagem de vezes que o elemento foi inserido*/} % <td> ${facDiscreta}<td> ${facTotPorcDisc}<br> `
				acumFacDiscreta += facPorc
				//Adiciona o indice ao vetor
				indiceDiscreta.push(chave)
				//adiciona a porcentagem ao vetor
				porcFreqDiscreta.push(Math.round((quantDados[chave] / acum) * 100))

			}
			//console.log(indiceDiscreta)
			//console.log(porcFreqDiscreta)
			var color = []
			for (let i = 0; i < indiceDiscreta.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}

			// console.log(color)
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceDiscreta // Dados que o usuário digitou
			var DADOS = porcFreqDiscreta // FI%
			var COR = color //geração de cores 
			var ctx = document.getElementById('myChart').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});

		}
		// -----------------------------------FIM Qualitativa ---------------------------------------------

		
		//--------------------------------------- Nominal -------------------------------------------------
	
		function calc_qualiNominal(vetNominalAuto) {
			console.log("Nominal: ", vetAutoNominal)
			table_Nominal.innerHTML = ""
			nomeVariavel.innerHTML = ''
			var vetNominalAuto = []
			for(let i = 0 ; i <vetAutoNominal;i++){
				vetNominalAuto[i]=vetAutoNominal[i]
			}
			if (vetAutoNominal.length == 0) {
				nominal()
			} else {
				automaticaNominal()
			}
		}
		function automaticaNominal(vetNominalAuto) {
			console.log("NOMINAL:",vetNominalAuto)
			console.log('2-NOMINAL:',vetAutoNominal)
			table_Nominal.innerHTML += "<tr> <td>VARIAVEL</td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar_Nominal').value; //Coloca o nome da variavel
		//	var dados_nominal = document.getElementById('dados_nominal').value; //puxa os dados da pagina
			let vetNominal = vetAutoNominal.toString().split(','); // separa os valores e insere no vetor
			vetNominal.sort() // deixa o vetor na ordem crescente/alfabetica
			var quantDados = {}; //obj com informando a quantidade de cada elemento 
			var acum = 0; // acumulador de elementos diferentes
			nomeVariavel.innerHTML += nomeVar
			for (let i = 0; i < vetNominal.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetNominal[i]]) {
					quantDados[vetNominal[i]] += 1
					acum++
				} else {
					quantDados[vetNominal[i]] = 1
					acum++
				}
			}
			var fac = 0;
			var acumFac = 0;
			var factotPorc = 0;
			var acumFacPorc = 0;
			//pega o valor da variavel 
			var indiceNominal = [];
			//Pega a porcetagem do valor digitado
			var porcFreqNominal = [];

			for (var chave in quantDados) { // pega as variaveis
				fac += quantDados[chave]
				facPorc = Math.round((quantDados[chave] / acum) * 100)
				factotPorc = facPorc + acumFacPorc
				table_Nominal.innerHTML += `<td> ${chave /*Inserção de variavel na tabela*/}  <td> ${quantDados[chave]/*Insere a quantidade de repetições da variavel*/} <td>${Math.round((quantDados[chave] / acum) * 100) /*Insere e calcula a porcentagem de vezes que o elemento foi inserido*/} % <td> ${fac}<td> ${factotPorc}  <br> `
				acumFacPorc += facPorc
				//Adicona o indice ao vetor
				indiceNominal.push(chave)
				// Adiciona a porcentagm ao vetor
				porcFreqNominal.push(Math.round((quantDados[chave] / acum) * 100))
			}
			//console.log(indiceNominal)
			//console.log(porcFreqNominal)
			var color = []
			for (let i = 0; i < indiceNominal.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}
			// color.push(',')
			//console.log(color)
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceNominal // Dados que o usuário digitou
			var DADOS = porcFreqNominal // FI%
			var COR = color //geração de cores
			var ctx = document.getElementById('myChart2').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'pie',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});
		}
		function nominal() {
			table_Nominal.innerHTML += "<tr> <td>VARIAVEL</td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar_Nominal').value; //Coloca o nome da variavel
			var dados_nominal = document.getElementById('dados_nominal').value; //puxa os dados da pagina
			let vetNominal = dados_nominal.toString().split(';'); // separa os valores e insere no vetor
			vetNominal.sort() // deixa o vetor na ordem crescente/alfabetica
			var quantDados = {}; //obj com informando a quantidade de cada elemento 
			var acum = 0; // acumulador de elementos diferentes
			nomeVariavel.innerHTML += nomeVar
			for (let i = 0; i < vetNominal.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetNominal[i]]) {
					quantDados[vetNominal[i]] += 1
					acum++
				} else {
					quantDados[vetNominal[i]] = 1
					acum++
				}
			}
			var fac = 0;
			var acumFac = 0;
			var factotPorc = 0;
			var acumFacPorc = 0;
			//pega o valor da variavel 
			var indiceNominal = [];
			//Pega a porcetagem do valor digitado
			var porcFreqNominal = [];

			for (var chave in quantDados) { // pega as variaveis
				fac += quantDados[chave]
				facPorc = Math.round((quantDados[chave] / acum) * 100)
				factotPorc = facPorc + acumFacPorc
				table_Nominal.innerHTML += `<td> ${chave /*Inserção de variavel na tabela*/}  <td> ${quantDados[chave]/*Insere a quantidade de repetições da variavel*/} <td>${Math.round((quantDados[chave] / acum) * 100) /*Insere e calcula a porcentagem de vezes que o elemento foi inserido*/} % <td> ${fac}<td> ${factotPorc}  <br> `
				acumFacPorc += facPorc
				//Adicona o indice ao vetor
				indiceNominal.push(chave)
				// Adiciona a porcentagm ao vetor
				porcFreqNominal.push(Math.round((quantDados[chave] / acum) * 100))
			}
			//console.log(indiceNominal)
			//console.log(porcFreqNominal)
			var color = []
			for (let i = 0; i < indiceNominal.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}
			// color.push(',')
			//console.log(color)
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceNominal // Dados que o usuário digitou
			var DADOS = porcFreqNominal // FI%
			var COR = color //geração de cores
			var ctx = document.getElementById('myChart2').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'pie',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});
		}
		//----------------------------------- FIM Nominal ---------------------------------------------------

		//------------------------------------ Continua -----------------------------------------------------
		function ordemCrescente(a, b) {
			return (a - b)	// ordena de forma crescente
		}

		function calc_continua() {
			table_continua.innerHTML = ""
			nome_continua.innerHTML = ''
			if (vetAutoContinua === 0) {
				continua()
			} else {
				automaticaContinua()
			}
		}
		function automaticaContinua() {
			table_continua.innerHTML += "<tr> <td>Coleta de dados </td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar_Continua').value; //Coloca o nome da variavel
			nome_continua.innerHTML += nomeVar
			var vetDiscreta = vetAutoContinua.toString().split(','); // separa os valores e insere no vetor
			vetDiscreta.sort(ordemCrescente) // deixa o vetor na ordem crescente/alfabetica
			var n = vetDiscreta.length; // total de elementos 
			var xmin = vetDiscreta[0]; // para pegar o menor valor do array
			var xmax = vetDiscreta[n - 1]; // para pegar o maior valor do array
			var quantDados = {};
			var acum = 0;
			var k = Math.sqrt(n); // raiz quadrada dos elemnto
			k = Math.floor(k) // aproximação de k para baixo
			for (let i = 0; i < vetDiscreta.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetDiscreta[i]]) {
					quantDados[vetDiscreta[i]] += 1
					acum++
				} else {
					quantDados[vetDiscreta[i]] = 1
					acum++

				}
			}
			var ic = 0; // ic = intervalo de classe
			var alt = xmax - xmin  //calculo feito para descobrir a amplitude
			ic = Math.floor(alt / k) //calculo feito para descobir quantos elementos pular ic=alt/k
			var valorInicial = Number(xmin);
			//pega o valor da variavel 
			var indiceContinua = [];
			//Pega a porcetagem do valor digitado
			var porcFreqContinua = [];
			var factotPorcContinua = 0;
			var acumFacContinua = 0;
			while (valorInicial <= xmax) {
				var valorFinal = 0;
				let cont = 0;
				var facContinua = 0;
				valorFinal = Number(valorInicial + ic)
				for (let i = 0; i < vetDiscreta.length; i++) {
					if (vetDiscreta[i] >= valorInicial & vetDiscreta[i] <= valorFinal) {
						cont++
					}
				}
				let facPorc = Math.round((cont / acum) * 100)
				factotPorcContinua = facPorc + acumFacContinua
				facContinua += cont
				table_continua.innerHTML += `<td>${valorInicial} |--------${valorFinal}<td>${cont}<td>${Math.round((cont / acum) * 100)}<td>${facContinua}<td>${factotPorcContinua} <br>`
				acumFacContinua += facPorc
				let indice = `${valorInicial} --- ${valorFinal}`
				//Adiciona o indice ao vetor 
				indiceContinua.push(indice)
				//Adiciona a porcentagem ao vetor
				porcFreqContinua.push(Math.round((cont / acum) * 100))
				var valorInicial = valorFinal
			}
			var color = []
			for (let i = 0; i < indiceContinua.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}

			var COR = color // gera as cores do grafico
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceContinua // Dados que o usuário digitou
			var DADOS = porcFreqContinua // FI%

			var ctx = document.getElementById('myChart3').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						xAxes: [{
							display: false,
							barPercentage: 1.3,
							ticks: {
								max: 3

							}
						}],
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});
		}
		
		function continua() {
			table_continua.innerHTML += "<tr> <td>Coleta de dados </td><td>FI</td><td>FR%   </td><td>FAC   </td><td>FAC%  </td></tr> "
			var nomeVar = document.getElementById('nomeVar_Continua').value; //Coloca o nome da variavel
			nome_continua.innerHTML += nomeVar
			var dados_continua = document.getElementById('dados_continua').value; //puxa os dados da pagina
			let vetDiscreta = dados_continua.toString().split(';'); // separa os valores e insere no vetor
			vetDiscreta.sort(ordemCrescente) // deixa o vetor na ordem crescente/alfabetica
			var n = vetDiscreta.length; // total de elementos 
			var xmin = vetDiscreta[0]; // para pegar o menor valor do array
			var xmax = vetDiscreta[n - 1]; // para pegar o maior valor do array
			var quantDados = {};
			var acum = 0;
			var k = Math.sqrt(n); // raiz quadrada dos elemnto
			k = Math.floor(k) // aproximação de k para baixo
			for (let i = 0; i < vetDiscreta.length; i++) { //metodo para alocar a quantidade de cada elemento
				if (quantDados[vetDiscreta[i]]) {
					quantDados[vetDiscreta[i]] += 1
					acum++
				} else {
					quantDados[vetDiscreta[i]] = 1
					acum++

				}
			}
			var ic = 0; // ic = intervalo de classe
			var alt = xmax - xmin  //calculo feito para descobrir a amplitude
			ic = Math.floor(alt / k) //calculo feito para descobir quantos elementos pular ic=alt/k
			var valorInicial = Number(xmin);
			//pega o valor da variavel 
			var indiceContinua = [];
			//Pega a porcetagem do valor digitado
			var porcFreqContinua = [];
			var factotPorcContinua = 0;
			var acumFacContinua = 0;
			while (valorInicial <= xmax) {
				var valorFinal = 0;
				let cont = 0;
				var facContinua = 0;
				valorFinal = Number(valorInicial + ic)
				for (let i = 0; i < vetDiscreta.length; i++) {
					if (vetDiscreta[i] >= valorInicial & vetDiscreta[i] <= valorFinal) {
						cont++
					}
				}
				let facPorc = Math.round((cont / acum) * 100)
				factotPorcContinua = facPorc + acumFacContinua
				facContinua += cont
				table_continua.innerHTML += `<td>${valorInicial} |--------${valorFinal}<td>${cont}<td>${Math.round((cont / acum) * 100)}<td>${facContinua}<td>${factotPorcContinua} <br>`
				acumFacContinua += facPorc
				let indice = `${valorInicial} --- ${valorFinal}`
				//Adiciona o indice ao vetor 
				indiceContinua.push(indice)
				//Adiciona a porcentagem ao vetor
				porcFreqContinua.push(Math.round((cont / acum) * 100))
				var valorInicial = valorFinal
			}
			var color = []
			for (let i = 0; i < indiceContinua.length; i++) {
				let r = Math.floor(Math.random() * 255),
					g = Math.floor(Math.random() * 255),
					b = Math.floor(Math.random() * 255);
				color.push(`rgb(${r},${g},${b})`)
			}

			var COR = color // gera as cores do grafico
			var NOME_VARIAVEL = nomeVar //Nome da VARIAVEL (TABELO/GRAFICO
			var VARIAVEL = indiceContinua // Dados que o usuário digitou
			var DADOS = porcFreqContinua // FI%

			var ctx = document.getElementById('myChart3').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: VARIAVEL, // Dados que o usuário digitou
					datasets: [{
						label: NOME_VARIAVEL,  //Nome da VARIAVEL (TABELO/GRAFICO
						data: DADOS, // FI%
						backgroundColor: COR,
						borderWidth: 1
					}]
				},
				options: {
					animation: {
						duration: 3500,

					},
					scales: {
						xAxes: [{
							display: false,
							barPercentage: 1.3,
							ticks: {
								max: 3

							}
						}],
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});
		}
// --------------------------------FIM Continua -----------------------------------------------------

//---------------------------------- GRAFICO -----------------------------

	</script>
</body>

</html>